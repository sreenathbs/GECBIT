<?php

$rows = "RegisterNum 	BE100 	BE102 	CS100 	CS120 	CY100 	CY110 	EE100 	EE110 	MA102 	.../240	sgpa	Percentage
TRV16IT001 	F 	F 	F 	B+ 	C 	O 	C 	A+ 	B 	97 	4.04 	36.67
TRV16IT002 	C 	B 	B+ 	B+ 	B 	O 	C 	A+ 	A 	176.0 	7.33 	69.58
TRV16IT003 	C 	B+ 	B+ 	O 	A+ 	O 	A+ 	A+ 	O 	204 	8.5 	81.25
TRV16IT005 	C 	O 	B 	A 	B+ 	O 	O 	O 	A 	199.5 	8.31 	79.38
TRV16IT006 	B 	B+ 	B 	O 	B+ 	O 	A+ 	O 	A 	196.0 	8.17 	77.92
TRV16IT007 	B+ 	B+ 	O 	O 	B+ 	O 	A 	A 	O 	212.0 	8.83 	84.58
TRV16IT008 	C 	B 	F 	B 	B 	O 	C 	O 	F 	118 	4.92 	45.42
TRV16IT009 	F 	B+ 	B 	B+ 	B 	O 	B 	A+ 	B+ 	153 	6.38 	60.0
TRV16IT010 	C 	A 	F 	C 	C 	O 	P 	O 	C 	138.5 	5.77 	53.96
TRV16IT011 	B+ 	A 	B+ 	O 	B+ 	O 	A+ 	O 	A+ 	206.5 	8.6 	82.29
TRV16IT012 	F 	F 	F 	B+ 	C 	O 	F 	A+ 	C 	75 	3.13 	27.5
TRV16IT013 	C 	B 	B+ 	A 	B+ 	O 	B 	O 	B+ 	182.5 	7.6 	72.29
TRV16IT015 	C 	B 	A 	A 	B 	O 	A 	O 	O 	192.5 	8.02 	76.46
TRV16IT016 	B+ 	B+ 	A 	O 	B+ 	O 	A 	O 	O 	209.0 	8.71 	83.33
TRV16IT017 	C 	B+ 	O 	O 	F 	O 	B 	O 	A+ 	165 	6.88 	65.0
TRV16IT018 	F 	B 	F 	B+ 	F 	O 	F 	B+ 	F 	47 	1.96 	15.83
TRV16IT019 	B 	A+ 	C 	A 	B 	O 	B+ 	A+ 	A 	186.5 	7.77 	73.96
TRV16IT020 	C 	F 	B 	A+ 	B 	O 	B+ 	O 	B+ 	158 	6.58 	62.08
TRV16IT021 	F 	B+ 	F 	B+ 	F 	O 	A 	O 	B+ 	109.5 	4.56 	41.88
TRV16IT022 	B 	A 	B+ 	O 	B 	O 	B+ 	A 	A 	192.0 	8.0 	76.25
TRV16IT023 	B 	A 	B+ 	O 	B+ 	O 	B+ 	A 	A+ 	198.0 	8.25 	78.75
TRV16IT024 	F 	B+ 	F 	A 	F 	O 	C 	O 	Absent 	70.5 	2.94 	25.63
TRV16IT025 	C 	B+ 	C 	O 	C 	O 	C 	A 	B 	164.5 	6.85 	64.79
TRV16IT026 	B+ 	A 	B+ 	A+ 	B 	O 	B+ 	O 	O 	202.5 	8.44 	80.63
TRV16IT028 	F 	B+ 	P 	B+ 	C 	O 	F 	B+ 	F 	89 	3.71 	33.33
TRV16IT030 	B+ 	A 	B 	O 	C 	O 	A 	O 	B+ 	190.0 	7.92 	75.42
TRV16IT031 	C 	A+ 	F 	O 	F 	O 	F 	O 	C 	105 	4.38 	40.0
TRV16IT032 	F 	B 	F 	C 	F 	O 	F 	B+ 	FE 	45 	1.88 	15.0
TRV16IT033 	B 	B+ 	B+ 	O 	B+ 	O 	B 	A+ 	B 	186 	7.75 	73.75
TRV16IT034 	F 	F 	B 	A+ 	B 	O 	Absent 	A 	C 	100.5 	4.19 	38.13
TRV16IT035 	F 	A+ 	C 	O 	B 	O 	B 	A+ 	A+ 	159 	6.63 	62.5
TRV16IT036 	F 	B+ 	F 	B+ 	B 	O 	C 	O 	B 	126 	5.25 	48.75
TRV16IT037 	B+ 	A+ 	B+ 	O 	A+ 	O 	A 	O 	B+ 	206.5 	8.6 	82.29
TRV16IT038 	C 	B+ 	B+ 	O 	C 	O 	B 	A+ 	B 	174 	7.25 	68.75
TRV16IT039 	B+ 	A+ 	B 	O 	B 	O 	B+ 	O 	A 	196.0 	8.17 	77.92
TRV16IT040 	C 	A 	F 	B+ 	B 	O 	C 	A+ 	C 	146.5 	6.1 	57.29
TRV16IT041 	C 	A 	F 	B 	F 	O 	C 	O 	B 	122.5 	5.1 	47.29
TRV16IT042 	B 	O 	B 	O 	B+ 	O 	B+ 	O 	B 	193 	8.04 	76.67
TRV16IT043 	B+ 	A+ 	C 	O 	B 	O 	A 	O 	B+ 	192.5 	8.02 	76.46
TRV16IT044 	B 	A 	B 	O 	B 	O 	A 	O 	A 	192.0 	8.0 	76.25
TRV16IT045 	C 	A+ 	B 	O 	C 	O 	C 	O 	B 	172 	7.17 	67.92
TRV16IT046 	F 	B+ 	F 	O 	FE 	O 	F 	O 	C 	78 	3.25 	28.75
TRV16IT048 	C 	A 	F 	C 	C 	O 	C 	O 	C 	141.5 	5.9 	55.21
TRV16IT049 	B 	A 	B+ 	O 	F 	O 	B 	O 	C 	152.5 	6.35 	59.79
TRV16IT050 	F 	A 	F 	C 	C 	O 	F 	A+ 	F 	74.5 	3.1 	27.29
TRV16IT051 	C 	B 	F 	B 	F 	O 	P 	A+ 	C 	110 	4.58 	42.08
TRV16IT052 	B 	A+ 	B+ 	B+ 	B 	O 	A+ 	O 	A+ 	198 	8.25 	78.75
TRV16IT053 	B+ 	A 	B+ 	O 	B 	O 	A 	O 	A 	199.0 	8.29 	79.17
TRV16IT054 	C 	A 	B+ 	O 	B+ 	O 	A 	O 	B+ 	193.0 	8.04 	76.67
TRV16IT055 	C 	B+ 	B 	O 	F 	O 	B 	O 	C 	144 	6.0 	56.25
TRV16IT056 	B 	B+ 	B+ 	O 	B+ 	O 	A+ 	O 	A+ 	201 	8.38 	80.0
TRV16IT057 	B 	A+ 	B+ 	O 	B 	O 	O 	O 	A+ 	203 	8.46 	80.83
TRV16IT058 	B 	A+ 	C 	B+ 	C 	O 	B+ 	O 	A 	183.0 	7.63 	72.5
TRV16IT059 	F 	B 	F 	O 	F 	O 	F 	B 	C 	72 	3.0 	26.25
TRV16IT060 	F 	B+ 	C 	C 	F 	O 	C 	O 	B+ 	118 	4.92 	45.42
TRV16IT061 	F 	B 	F 	B+ 	P 	O 	F 	B+ 	B+ 	99 	4.13 	37.5
TRV16IT062 	F 	B+ 	C 	B 	C 	O 	O 	F 	C 	137 	5.71 	53.33";
$rows = str_replace(" ", "", $rows);
$rows = explode("
", $rows);
// var_dump($rows[1]);

$cols = $rows[0];
$cols = explode("	", $cols);
$cols = array_slice($cols, 1);

$rows = array_slice($rows, 1);
$row = [];
for ($i=0; $i<count($rows); $i++)
{
	$row[$i] = explode("	", $rows[$i]);
}

// for ($i=0; $i<count($rows); $i++)
// {
// 	print_r($row[$i]);
// 	echo "<hr>";
// }

// var_dump($row);



	// $sql->bind_param('s', $row[$i][$j]);
	// echo $row[$i][$j];
	// $sql->execute();
	// $j += 1;



$op = "";
for ($i=0; $i<count($cols)+1; $i++) {
	$op .= `$cols[$i]`;
	$qm .= "?";
}

$sql = $db->prepare("INSERT INTO `result_s$semester`($op) VALUES($qm)");